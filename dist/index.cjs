"use strict";var N=Object.defineProperty;var n=(e,a)=>N(e,"name",{value:a,configurable:!0});function S(e){const a="/",d=".";for(const t of e)c(t);return e.sort(h);function c(t){let o=t.thread,r,i=[],u,f="";if(o===void 0){if(t.parent===void 0||!e.find(p=>p.id===t.parent))r=s(g()),i=r?.split(a)??[],u=r?Number.parseInt(i[0],36):-1,f="";else{const p=e.find(l=>l.id==t.parent);if(!p)throw new Error("Comment parent not found");if(c(p),f=s(T(p))+a,r=s(v(t.parent)),r===void 0)u=-1;else{r=s(r),i=r?.split(a)??[];const l=(i??[]).length;u=Number.parseInt(i[l-1],36)}}o=f+(++u).toString(36).padStart(2,"0")+d,m(t,o)}}function s(t){return t&&t.endsWith(d)?t.slice(0,-1):t}function m(t,o){t.thread=o}function T(t){return t.thread}function g(){return e.filter(t=>!!t.thread).toSorted(h).pop()?.thread}function v(t){return e.filter(r=>r.parent===t&&!!r.thread).toSorted(h).pop()?.thread}function h(t,o){return t.thread!==void 0&&o.thread!==void 0?t.thread.localeCompare(o.thread):0}}n(S,"sortByParents");function x(e){return e.map(d=>"  ".repeat((d.thread?.split("/")?.length??1)-1)+" - item "+d.id.toString()).join(`
`)}n(x,"formatThread"),exports.formatThread=x,exports.sortByParents=S;
