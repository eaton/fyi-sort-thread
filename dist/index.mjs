var x=Object.defineProperty;var n=(e,a)=>x(e,"name",{value:a,configurable:!0});function N(e){const a="/",d=".";for(const t of e)c(t);return e.sort(f);function c(t){let o=t.thread,r,i=[],h,s="";if(o===void 0){if(t.parent===void 0||!e.find(p=>p.id===t.parent))r=u(g()),i=r?.split(a)??[],h=r?Number.parseInt(i[0],36):-1,s="";else{const p=e.find(l=>l.id==t.parent);if(!p)throw new Error("Comment parent not found");if(c(p),s=u(T(p))+a,r=u(v(t.parent)),r===void 0)h=-1;else{r=u(r),i=r?.split(a)??[];const l=(i??[]).length;h=Number.parseInt(i[l-1],36)}}o=s+(++h).toString(36).padStart(2,"0")+d,m(t,o)}}function u(t){return t&&t.endsWith(d)?t.slice(0,-1):t}function m(t,o){t.thread=o}function T(t){return t.thread}function g(){return e.filter(t=>!!t.thread).toSorted(f).pop()?.thread}function v(t){return e.filter(r=>r.parent===t&&!!r.thread).toSorted(f).pop()?.thread}function f(t,o){return t.thread!==void 0&&o.thread!==void 0?t.thread.localeCompare(o.thread):0}}n(N,"sortByParents");function S(e){return e.map(d=>"  ".repeat((d.thread?.split("/")?.length??1)-1)+" - item "+d.id.toString()).join(`
`)}n(S,"formatThread");export{S as formatThread,N as sortByParents};
